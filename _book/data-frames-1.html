<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Data Frames | Applied Spatial Statistics for Geographers</title>
  <meta name="description" content="2 Data Frames | Applied Spatial Statistics for Geographers" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Data Frames | Applied Spatial Statistics for Geographers" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Data Frames | Applied Spatial Statistics for Geographers" />
  
  
  

<meta name="author" content="James B. Elsner" />


<meta name="date" content="2020-04-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#rstudios-integrated-development-environment-ide"><i class="fa fa-check"></i><b>1.1</b> RStudio’s integrated development environment (IDE)</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#create-an-html-file"><i class="fa fa-check"></i><b>1.2</b> Create an HTML file</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#basic-r"><i class="fa fa-check"></i><b>1.3</b> Basic R</a><ul>
<li class="chapter" data-level="1.3.1" data-path="getting-started.html"><a href="getting-started.html#functions"><i class="fa fa-check"></i><b>1.3.1</b> Functions</a></li>
<li class="chapter" data-level="1.3.2" data-path="getting-started.html"><a href="getting-started.html#data-vectors"><i class="fa fa-check"></i><b>1.3.2</b> Data vectors</a></li>
<li class="chapter" data-level="1.3.3" data-path="getting-started.html"><a href="getting-started.html#vector-types"><i class="fa fa-check"></i><b>1.3.3</b> Vector types</a></li>
<li class="chapter" data-level="1.3.4" data-path="getting-started.html"><a href="getting-started.html#structured-data"><i class="fa fa-check"></i><b>1.3.4</b> Structured data</a></li>
<li class="chapter" data-level="1.3.5" data-path="getting-started.html"><a href="getting-started.html#query-data"><i class="fa fa-check"></i><b>1.3.5</b> Query data</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#data-frames"><i class="fa fa-check"></i><b>1.4</b> Data frames</a><ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#another-data-frame"><i class="fa fa-check"></i><b>1.4.1</b> Another data frame</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#practice-u.s.-tornado-database"><i class="fa fa-check"></i><b>1.4.2</b> Practice: U.S. tornado database</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#need-additional-help-try-swirl"><i class="fa fa-check"></i><b>1.5</b> Need additional help? Try swirl</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-frames-1.html"><a href="data-frames-1.html"><i class="fa fa-check"></i><b>2</b> Data Frames</a><ul>
<li class="chapter" data-level="2.1" data-path="data-frames-1.html"><a href="data-frames-1.html#do-you-need-additional-help-getting-started"><i class="fa fa-check"></i><b>2.1</b> Do you need additional help getting started?</a></li>
<li class="chapter" data-level="2.2" data-path="data-frames-1.html"><a href="data-frames-1.html#another-data-frame-1"><i class="fa fa-check"></i><b>2.2</b> Another data frame</a></li>
<li class="chapter" data-level="2.3" data-path="data-frames-1.html"><a href="data-frames-1.html#tornadoes-in-the-united-states"><i class="fa fa-check"></i><b>2.3</b> Tornadoes in the United States</a></li>
<li class="chapter" data-level="2.4" data-path="data-frames-1.html"><a href="data-frames-1.html#u.s.-hurricanes"><i class="fa fa-check"></i><b>2.4</b> U.S. hurricanes</a></li>
<li class="chapter" data-level="2.5" data-path="data-frames-1.html"><a href="data-frames-1.html#your-turn-florida-precipitation-by-month"><i class="fa fa-check"></i><b>2.5</b> Your turn: Florida precipitation by month</a></li>
<li class="chapter" data-level="2.6" data-path="data-frames-1.html"><a href="data-frames-1.html#more-practice-tornadoes"><i class="fa fa-check"></i><b>2.6</b> More practice: Tornadoes</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applied Spatial Statistics for Geographers</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-frames-1" class="section level1">
<h1><span class="header-section-number">2</span> Data Frames</h1>
<p><strong>“Measuring programming progress by lines of code is like measuring aircraft building progress by weight.”</strong> — Bill Gates</p>
<p>Last week: What this course is about, how I’m going to grade you, and how to get started with R, RStudio, and RStudio Cloud. Today: Data frames, getting data into R, manipulating data and making simple plots using base R functions.</p>
<div id="do-you-need-additional-help-getting-started" class="section level2">
<h2><span class="header-section-number">2.1</span> Do you need additional help getting started?</h2>
<p>The package <strong>swirl</strong> contains functions to help you learn the basics of working with R. The <code>install.packages()</code> function gets the package from an CRAN mirror site. This needs to be done only once to your local computer. To make the functions work in your current session you must use the <code>library()</code> function. This needs to be done for every session, but only once per session.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1"><span class="co">#install.packages(&quot;swirl&quot;)</span></a>
<a class="sourceLine" id="cb128-2" data-line-number="2"><span class="kw">library</span>(swirl)</a>
<a class="sourceLine" id="cb128-3" data-line-number="3"></a>
<a class="sourceLine" id="cb128-4" data-line-number="4"><span class="kw">swirl</span>()</a></code></pre></div>
<ul>
<li>Don’t know any R? Choose the lesson: R Programming. I recommend you work through lessons 1:8. You can exit swirl and return to the R prompt (&gt;) at any time with the Esc key.</li>
<li>Know a bit of R, but you need help? Try <a href="https://www.r-project.org/help.html" class="uri">https://www.r-project.org/help.html</a></li>
</ul>
<p>Note: To update packages using <code>update.packages()</code> or select the green rounded arrow in the lower right panel.</p>
</div>
<div id="another-data-frame-1" class="section level2">
<h2><span class="header-section-number">2.2</span> Another data frame</h2>
<p>Consider answers on questions given to all students in an introductory statistics class at Bowling Green State University. Some of the questions were: What is your height? Choose a number between 1 and 10. Give the time you went to bed last night. The data are available as a data frame called <code>studentdata</code> in the package <strong>LearnBayes</strong>.</p>
<p>First, install the package.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" data-line-number="1"><span class="co"># install.packages(&quot;LearnBayes&quot;)</span></a>
<a class="sourceLine" id="cb129-2" data-line-number="2"><span class="kw">library</span>(LearnBayes)</a></code></pre></div>
<p>Next, make a copy of the data frame and call it <code>df</code>. Then print the first six rows using the <code>head()</code> function and list only the 10th row.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1">df &lt;-<span class="st"> </span>LearnBayes<span class="op">::</span>studentdata</a>
<a class="sourceLine" id="cb130-2" data-line-number="2"><span class="kw">head</span>(df)</a></code></pre></div>
<pre><code>##   Student Height Gender Shoes Number Dvds ToSleep WakeUp Haircut  Job Drink
## 1       1     67 female    10      5   10    -2.5    5.5      60 30.0 water
## 2       2     64 female    20      7    5     1.5    8.0       0 20.0   pop
## 3       3     61 female    12      2    6    -1.5    7.5      48  0.0  milk
## 4       4     61 female     3      6   40     2.0    8.5      10  0.0 water
## 5       5     70   male     4      5    6     0.0    9.0      15 17.5   pop
## 6       6     63 female    NA      3    5     1.0    8.5      25  0.0 water</code></pre>
<p>Recall data frames are like spreadsheets with rows and columns. The rows are the observations and the columns are the variables. All columns are of the same length like a matrix. We identify particular data elements of the matrix using the bracket notation [row, column] where row is the row number and column is the column number.</p>
<p>For example here we identify all the columns in the 10th row.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1">df[<span class="dv">10</span>, ]</a></code></pre></div>
<pre><code>##    Student Height Gender Shoes Number Dvds ToSleep WakeUp Haircut Job Drink
## 10      10     65   male    10      7   22     2.5    8.5      12   0  milk</code></pre>
<p>Drink preference was one of the questions. The responses are available in the column labeled <code>Drink</code> as a vector. We identify this vector using the <code>$</code> notation, where the name before the dollar sign identifies the data frame and the name after the dollar sign identifies the column name (<code>dataframeName$columnName</code>).</p>
<p>So we list all the drink preferences using</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1">df<span class="op">$</span>Drink</a></code></pre></div>
<pre><code>##   [1] water pop   milk  water pop   water water pop   water milk  milk  water
##  [13] pop   milk  pop   water water pop   water water water water water milk 
##  [25] pop   water water pop   water water water water pop   water water water
##  [37] pop   milk  pop   water water water pop   milk  water water water pop  
##  [49] pop   water milk  pop   pop   water water pop   milk  pop   pop   water
##  [61] water water water water water milk  pop   pop   pop   water water water
##  [73] pop   water pop   pop   water pop   pop   milk  water pop   water water
##  [85] milk  pop   water water pop   water water water milk  water pop   water
##  [97] pop   pop   pop   water water pop   water pop   milk  milk  water water
## [109] water water water pop   water milk  milk  milk  water milk  pop   water
## [121] pop   pop   pop   pop   water water water water water water milk  water
## [133] pop   milk  water water water water water &lt;NA&gt;  pop   water water pop  
## [145] milk  milk  water water pop   water water water pop   water &lt;NA&gt;  water
## [157] water water water water milk  milk  water milk  water water milk  water
## [169] pop   pop   pop   water pop   pop   water water milk  milk  water water
## [181] water pop   pop   water water pop   pop   water water milk  water water
## [193] milk  &lt;NA&gt;  water pop   milk  pop   milk  water water water water water
## [205] water pop   pop   water milk  water milk  water milk  water milk  water
## [217] milk  water pop   water water milk  water water pop   milk  milk  water
## [229] milk  water pop   pop   pop   water water milk  pop   milk  water milk 
## [241] water water pop   water water water pop   pop   water water pop   water
## [253] water milk  water pop   water pop   milk  milk  pop   pop   water water
## [265] water pop   pop   milk  water water water water milk  milk  water water
## [277] milk  milk  milk  pop   water water &lt;NA&gt;  water water water pop   milk 
## [289] water water pop   water water milk  pop   milk  milk  water water water
## [301] pop   water water &lt;NA&gt;  water water water water water pop   water water
## [313] water water pop   water water water milk  milk  pop   water water water
## [325] water water pop   pop   milk  milk  water water pop   pop   pop   pop  
## [337] water milk  water water pop   milk  pop   water water water pop   water
## [349] water water water water water &lt;NA&gt;  pop   pop   water milk  water water
## [361] milk  water water pop   water water water water water water pop   water
## [373] water milk  water water milk  milk  milk  water water water water pop  
## [385] water water pop   water pop   milk  pop   water water &lt;NA&gt;  water water
## [397] water water milk  water pop   milk  water water water water water milk 
## [409] pop   pop   pop   water pop   milk  water water milk  milk  pop   water
## [421] milk  water pop   milk  water water water water pop   water pop   pop  
## [433] pop   milk  pop   water milk  pop   water pop   pop   pop   water water
## [445] water water water water pop   milk  water water water pop   milk  milk 
## [457] pop   pop   water water milk  water milk  pop   water water water water
## [469] pop   water milk  water water water water water milk  milk  water water
## [481] pop   water water milk  water milk  water pop   pop   water water pop  
## [493] pop   pop   milk  water water pop   water water water water pop   water
## [505] pop   milk  water &lt;NA&gt;  milk  water pop   water water milk  water water
## [517] water water water milk  water water pop   water pop   water milk  milk 
## [529] milk  milk  pop   water pop   milk  &lt;NA&gt;  milk  pop   water water pop  
## [541] milk  pop   water milk  water pop   water pop   water pop   water water
## [553] pop   milk  water water water water &lt;NA&gt;  water water pop   pop   milk 
## [565] water milk  pop   pop   water water water pop   pop   pop   pop   water
## [577] water water water water pop   pop   water pop   water water water water
## [589] milk  water water water water pop   pop   water water water water water
## [601] water water pop   water water &lt;NA&gt;  milk  pop   water water water pop  
## [613] water pop   water pop   water water pop   pop   water pop   water milk 
## [625] water pop   pop   pop   water milk  pop   water pop   water water milk 
## [637] water water water water water water water pop   pop   pop   pop   water
## [649] pop   water milk  water water pop   pop   pop   water
## Levels: milk pop water</code></pre>
<p>Note that some students left that response blank. That is coded as <code>&lt;NA&gt;</code>.</p>
<p>The names of the columns is available with the <code>names()</code> function.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" data-line-number="1"><span class="kw">names</span>(df)</a></code></pre></div>
<pre><code>##  [1] &quot;Student&quot; &quot;Height&quot;  &quot;Gender&quot;  &quot;Shoes&quot;   &quot;Number&quot;  &quot;Dvds&quot;    &quot;ToSleep&quot;
##  [8] &quot;WakeUp&quot;  &quot;Haircut&quot; &quot;Job&quot;     &quot;Drink&quot;</code></pre>
<p>We can table the responses with the <code>table()</code> function.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1"><span class="kw">table</span>(df<span class="op">$</span>Drink)</a></code></pre></div>
<pre><code>## 
##  milk   pop water 
##   113   178   355</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1"><span class="kw">table</span>(df<span class="op">$</span>Drink,</a>
<a class="sourceLine" id="cb140-2" data-line-number="2">      <span class="dt">useNA =</span> <span class="st">&quot;ifany&quot;</span>)</a></code></pre></div>
<pre><code>## 
##  milk   pop water  &lt;NA&gt; 
##   113   178   355    11</code></pre>
<p>The numbers are the frequency of responses by <code>Drink</code> category.</p>
<p>Use the <code>plot()</code> method to make a plot of this table.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1"><span class="kw">plot</span>(<span class="dt">x =</span> df<span class="op">$</span>Drink)</a></code></pre></div>
<p><img src="assfg-book_files/figure-html/unnamed-chunk-62-1.png" width="672" /></p>
<p>Suppose we are interested in examining how long students slept. This was not asked directly. We compute it from the <code>ToSleep</code> and <code>WakeUp</code> times columns. We assign the result of the difference to a column we call <code>SleepHrs</code>.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" data-line-number="1">df<span class="op">$</span>SleepHrs &lt;-<span class="st"> </span>df<span class="op">$</span>WakeUp <span class="op">-</span><span class="st"> </span>df<span class="op">$</span>ToSleep</a>
<a class="sourceLine" id="cb143-2" data-line-number="2"><span class="kw">summary</span>(df<span class="op">$</span>SleepHrs)</a></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##   2.500   6.500   7.500   7.385   8.500  12.500       4</code></pre>
<p>To see the distribution of sleep times, we construct a histogram with the <code>hist()</code> function.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1"><span class="kw">hist</span>(<span class="dt">x =</span> df<span class="op">$</span>SleepHrs)</a></code></pre></div>
<p><img src="assfg-book_files/figure-html/unnamed-chunk-64-1.png" width="672" /></p>
<p>The histogram function divides the number of sleep hours into one-hour bins and counts the number of students whose computed number of sleep hours falls into each bin. For example based on when they said they went to sleep and when the said they woke up, about 100 students slept between five and six hours the night before the survey.</p>
<p>Since the gender of each student is recorded, we can make comparisons between those who identify as male and those who identify as female. For instance, do men sleep more than women? We can answer this question graphically with box plots.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1"><span class="kw">plot</span>(<span class="dt">x =</span> df<span class="op">$</span>Gender, </a>
<a class="sourceLine" id="cb146-2" data-line-number="2">     <span class="dt">y =</span> df<span class="op">$</span>SleepHrs)</a></code></pre></div>
<p><img src="assfg-book_files/figure-html/unnamed-chunk-65-1.png" width="672" /></p>
<p>No apparent difference.</p>
<p>Repeat for hair cut prices.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1"><span class="kw">plot</span>(<span class="dt">x =</span> df<span class="op">$</span>Gender, </a>
<a class="sourceLine" id="cb147-2" data-line-number="2">     <span class="dt">y =</span> df<span class="op">$</span>Haircut)</a></code></pre></div>
<p><img src="assfg-book_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<p>Big difference.</p>
<p>Finally, is the amount of sleep for a student related to bedtime?</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" data-line-number="1"><span class="kw">plot</span>(<span class="dt">x =</span> df<span class="op">$</span>ToSleep,</a>
<a class="sourceLine" id="cb148-2" data-line-number="2">     <span class="dt">y =</span> df<span class="op">$</span>SleepHrs)</a></code></pre></div>
<p><img src="assfg-book_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<p>The <code>ToSleep</code> variable is centered on midnight so that -2 means they went to sleep at 10p.</p>
<p>We describe the decreasing relationship by drawing a line through the points. The least-squares line is fit using the <code>lm()</code> function and the line is drawn on the existing plot with the <code>abline()</code> function applied to the linear regression object <code>model</code>.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" data-line-number="1">model &lt;-<span class="st"> </span><span class="kw">lm</span>(SleepHrs <span class="op">~</span><span class="st"> </span>ToSleep, </a>
<a class="sourceLine" id="cb149-2" data-line-number="2">            <span class="dt">data =</span> df)</a>
<a class="sourceLine" id="cb149-3" data-line-number="3"></a>
<a class="sourceLine" id="cb149-4" data-line-number="4"><span class="kw">plot</span>(<span class="dt">x =</span> df<span class="op">$</span>ToSleep,</a>
<a class="sourceLine" id="cb149-5" data-line-number="5">     <span class="dt">y =</span> df<span class="op">$</span>SleepHrs)</a>
<a class="sourceLine" id="cb149-6" data-line-number="6"><span class="kw">abline</span>(model)</a></code></pre></div>
<p><img src="assfg-book_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
</div>
<div id="tornadoes-in-the-united-states" class="section level2">
<h2><span class="header-section-number">2.3</span> Tornadoes in the United States</h2>
<p>We download the data from the Storm Prediction Center (SPC) <a href="http://www.spc.noaa.gov/gis/svrgis/zipped/" class="uri">http://www.spc.noaa.gov/gis/svrgis/zipped/</a>. We give the zipped file a temporary name on our computer (here <code>temporary.zip</code>) using the <code>destfile =</code> argument.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" data-line-number="1"><span class="kw">download.file</span>(<span class="dt">url =</span> <span class="st">&quot;http://www.spc.noaa.gov/gis/svrgis/zipped/1950-2018-torn-initpoint.zip&quot;</span>,</a>
<a class="sourceLine" id="cb150-2" data-line-number="2">              <span class="dt">destfile =</span> <span class="st">&quot;temporary.zip&quot;</span>)</a></code></pre></div>
<p>Next we open the zipped file with the <code>unzip()</code> function. This creates a folder in our working directory called <code>1950-2018-torn-initpoint</code>.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1"><span class="kw">unzip</span>(<span class="st">&quot;temporary.zip&quot;</span>)</a></code></pre></div>
<p>Finally we load the shapefile into R. We use the <code>read_sf()</code> function from the <strong>sf</strong> package. We specify the data source name <code>dsn =</code>. The name of the file exists outside of R in your project directory so it needs to be inside quotes (either single or double).</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb152-2" data-line-number="2">Torn.sf &lt;-<span class="st"> </span><span class="kw">read_sf</span>(<span class="dt">dsn =</span> <span class="st">&quot;1950-2018-torn-initpoint&quot;</span>)</a></code></pre></div>
<p>Much more about working with shapefiles and spatial data frames throughout the semester.</p>
<p>We preview the resulting data frame</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1"><span class="kw">head</span>(Torn.sf)</a></code></pre></div>
<pre><code>## Simple feature collection with 6 features and 22 fields
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: -94.37 ymin: 34.4 xmax: -84.58 ymax: 41.17
## CRS:            4326
## # A tibble: 6 x 23
##      om    yr    mo    dy date   time     tz st      stf   stn   mag   inj   fat
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1  1950     1     3 1950-… 11:0…     3 MO       29     1     3     3     0
## 2     2  1950     1     3 1950-… 11:5…     3 IL       17     2     3     3     0
## 3     3  1950     1     3 1950-… 16:0…     3 OH       39     1     1     1     0
## 4     4  1950     1    13 1950-… 05:2…     3 AR        5     1     3     1     1
## 5     5  1950     1    25 1950-… 19:3…     3 MO       29     2     2     5     0
## 6     6  1950     1    25 1950-… 21:0…     3 IL       17     3     2     0     0
## # … with 10 more variables: loss &lt;dbl&gt;, closs &lt;dbl&gt;, slat &lt;dbl&gt;, slon &lt;dbl&gt;,
## #   elat &lt;dbl&gt;, elon &lt;dbl&gt;, len &lt;dbl&gt;, wid &lt;dbl&gt;, fc &lt;dbl&gt;, geometry &lt;POINT
## #   [°]&gt;</code></pre>
<p>Each row is a unique tornado report. Observations for each report include the date and time, the state (<code>st</code>), the maximum EF rating (<code>mag</code>), the number of injuries (<code>inj</code>), the number of fatalities (<code>fat</code>), estimated property losses (<code>loss</code>), estimated crop losses (<code>closs</code>), start and end locations in decimal degrees longitude and latitude, length of the damage path in yards (<code>len</code>), width of the damage path in miles (<code>wid</code>).</p>
<p>There is also a column called <code>geometry</code> indicating the spatial information.</p>
<p>The total number of tornado reports in the database is returned from the <code>nrow()</code> function.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb155-1" data-line-number="1"><span class="kw">nrow</span>(Torn.sf)</a></code></pre></div>
<pre><code>## [1] 63645</code></pre>
<p>Create a subset of the data frame keeping only tornadoes in years (<code>yr</code>) since 2001 and with EF ratings (<code>mag</code>) greater than 0. First we create a logical operation</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1">Torn.sf &lt;-<span class="st"> </span>Torn.sf[Torn.sf<span class="op">$</span>yr <span class="op">&gt;=</span><span class="st"> </span><span class="dv">2001</span> <span class="op">&amp;</span><span class="st"> </span>Torn.sf<span class="op">$</span>mag <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, ]</a></code></pre></div>
<p>Compute the correlation between EF rating (<code>mag</code>) and path length (<code>len</code>) and path width (<code>wid</code>).</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" data-line-number="1"><span class="kw">cor</span>(Torn.sf<span class="op">$</span>mag, Torn.sf<span class="op">$</span>len)</a></code></pre></div>
<pre><code>## [1] 0.4847975</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1"><span class="kw">cor</span>(Torn.sf<span class="op">$</span>mag, Torn.sf<span class="op">$</span>wid)</a></code></pre></div>
<pre><code>## [1] 0.4848238</code></pre>
<p>Path length is recorded in miles and path width in yards. To convert them to meters and add the converted values as new columns, type</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1">Torn.sf<span class="op">$</span>Length &lt;-<span class="st"> </span>Torn.sf<span class="op">$</span>len <span class="op">*</span><span class="st"> </span><span class="fl">1609.34</span></a>
<a class="sourceLine" id="cb162-2" data-line-number="2">Torn.sf<span class="op">$</span>Width &lt;-<span class="st"> </span>Torn.sf<span class="op">$</span>wid <span class="op">*</span><span class="st"> </span><span class="fl">.9144</span></a></code></pre></div>
<p>Create side-by-side box plots of path length (in kilometers) by EF rating.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" data-line-number="1"><span class="kw">plot</span>(<span class="dt">x =</span> <span class="kw">factor</span>(Torn.sf<span class="op">$</span>mag), </a>
<a class="sourceLine" id="cb163-2" data-line-number="2">     <span class="dt">y =</span> Torn.sf<span class="op">$</span>Length<span class="op">/</span><span class="dv">1000</span>)</a></code></pre></div>
<p><img src="assfg-book_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<p>Create a scatter plot with the size of the point proportional to the EF rating.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" data-line-number="1"><span class="kw">plot</span>(<span class="dt">x =</span> <span class="kw">log</span>(Torn.sf<span class="op">$</span>Width), </a>
<a class="sourceLine" id="cb164-2" data-line-number="2">     <span class="dt">y =</span> <span class="kw">log</span>(Torn.sf<span class="op">$</span>Length), </a>
<a class="sourceLine" id="cb164-3" data-line-number="3">     <span class="dt">cex =</span> Torn.sf<span class="op">$</span>mag)</a></code></pre></div>
<p><img src="assfg-book_files/figure-html/unnamed-chunk-78-1.png" width="672" /></p>
<p>Create a map of tornado genesis locations. First get a file containing the U.S. state borders. Then plot the geometry column and overlay the tornado location as points.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" data-line-number="1"><span class="kw">library</span>(USAboundaries)</a>
<a class="sourceLine" id="cb165-2" data-line-number="2"></a>
<a class="sourceLine" id="cb165-3" data-line-number="3">sts &lt;-<span class="st"> </span>state.name[<span class="op">!</span>state.name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Alaska&quot;</span>, <span class="st">&quot;Hawaii&quot;</span>)]</a>
<a class="sourceLine" id="cb165-4" data-line-number="4">stateBorders &lt;-<span class="st"> </span><span class="kw">us_states</span>(<span class="dt">states =</span> sts)</a>
<a class="sourceLine" id="cb165-5" data-line-number="5"></a>
<a class="sourceLine" id="cb165-6" data-line-number="6"><span class="kw">plot</span>(stateBorders<span class="op">$</span>geometry,</a>
<a class="sourceLine" id="cb165-7" data-line-number="7">     <span class="dt">col =</span> <span class="st">&quot;grey&quot;</span>)</a>
<a class="sourceLine" id="cb165-8" data-line-number="8"><span class="kw">plot</span>(Torn.sf<span class="op">$</span>geometry, </a>
<a class="sourceLine" id="cb165-9" data-line-number="9">     <span class="dt">pch =</span> <span class="st">&quot;.&quot;</span>, </a>
<a class="sourceLine" id="cb165-10" data-line-number="10">     <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>,</a>
<a class="sourceLine" id="cb165-11" data-line-number="11">     <span class="dt">add =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="assfg-book_files/figure-html/unnamed-chunk-79-1.png" width="672" /></p>
</div>
<div id="u.s.-hurricanes" class="section level2">
<h2><span class="header-section-number">2.4</span> U.S. hurricanes</h2>
<p>We load data directly from the web by specifying the URL as a character string using the <code>file =</code> argument.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;http://myweb.fsu.edu/jelsner/temp/data/US.txt&quot;</span>, </a>
<a class="sourceLine" id="cb166-2" data-line-number="2">                 <span class="dt">header =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>The object <code>df</code> is a data frame. A data frame is like a spreadsheet. Values are arranged in rows and columns. Rows are the cases (observations) and columns are the variables. The <code>dim()</code> function returns the size of the data frame defined as the number of rows and the number of columns (in that order).</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" data-line-number="1"><span class="kw">dim</span>(df)</a></code></pre></div>
<pre><code>## [1] 166   6</code></pre>
<p>There are 166 rows and 6 columns in the data frame object <code>df</code>.</p>
<p>To get a glimpse of the data values we list the first six lines of the data frame using the <code>head()</code> function.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" data-line-number="1"><span class="kw">head</span>(df)</a></code></pre></div>
<pre><code>##   Year All MUS G FL E
## 1 1851   1   1 0  1 0
## 2 1852   3   1 1  2 0
## 3 1853   0   0 0  0 0
## 4 1854   2   1 1  0 1
## 5 1855   1   1 1  0 0
## 6 1856   2   1 1  1 0</code></pre>
<p>The columns include <code>Year</code>, number of hurricanes (<code>All</code>), number of major hurricanes (<code>MUS</code>), number of Gulf coast hurricanes (<code>G</code>), number of Florida hurricanes (<code>FL</code>), and number of East coast hurricanes (<code>E</code>) in that order. The last six lines of your data frame are listed using the <code>tail()</code> function.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" data-line-number="1"><span class="kw">tail</span>(df)</a></code></pre></div>
<pre><code>##     Year All MUS G FL E
## 161 2011   1   0 0  0 1
## 162 2012   2   0 0  0 1
## 163 2013   0   0 0  0 0
## 164 2014   1   0 0  0 1
## 165 2015   0   0 0  0 0
## 166 2016   2   0 0  1 1</code></pre>
<p>The distribution of Florida hurricane counts by year is obtained using the <code>table()</code> function and specifying the <code>FL</code> column with <code>df$FL</code>.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" data-line-number="1"><span class="kw">table</span>(df<span class="op">$</span>FL)</a></code></pre></div>
<pre><code>## 
##  0  1  2  3  4 
## 93 43 24  5  1</code></pre>
<p>There are 93 years without a FL hurricane, 43 years with exactly one hurricane, 24 years with two hurricanes, and so on.</p>
<p>The columns in a data frame are referenced using the <code>df$name</code> syntax, where <code>name</code> refers to the column name.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" data-line-number="1">df<span class="op">$</span>FL</a></code></pre></div>
<pre><code>##   [1] 1 2 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 1 2 0 2 1 0 1 2 1 0 3 0 2 0 0 0 3 1
##  [38] 2 0 0 0 0 1 2 0 3 1 1 1 0 1 0 1 0 0 2 0 0 1 1 1 0 0 0 1 2 1 0 1 0 1 0 0 2
##  [75] 1 2 0 2 1 0 0 0 2 2 2 1 0 0 1 0 1 2 0 1 2 1 2 2 1 2 0 0 1 0 0 1 0 0 0 1 0
## [112] 0 0 3 1 2 1 1 0 0 0 1 0 0 1 0 0 0 1 0 0 0 0 0 2 0 1 0 1 0 0 1 0 0 2 0 0 2
## [149] 1 0 0 0 0 4 3 0 0 0 0 0 0 0 0 0 0 1</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" data-line-number="1"><span class="kw">sum</span>(df<span class="op">$</span>FL)</a></code></pre></div>
<pre><code>## [1] 110</code></pre>
<p>Each column is a vector of length equal to the number of rows in the data frame.</p>
<p>How many hurricanes hit Florida in 1906?</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" data-line-number="1">df<span class="op">$</span>FL[df<span class="op">$</span>Year <span class="op">==</span><span class="st"> </span><span class="dv">1906</span>]</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>The operator <code>==</code> returns a logical vector of length equal to the number of rows in <code>df</code> with values of <code>TRUE</code> and <code>FALSE</code>. The subset operator <code>[</code> returns the value of the vector <code>df$FL</code> when the logical vector is true.</p>
<p>What years had the most East coast hurricanes?</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" data-line-number="1">df<span class="op">$</span>Year[<span class="kw">which</span>(df<span class="op">$</span>E <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(df<span class="op">$</span>E))]</a></code></pre></div>
<pre><code>## [1] 1893 1954 1955 2004</code></pre>
<p>As I mentioned last week, there are many functions for working with data frames using <strong>base</strong> R. These functions require understanding data frames as ‘list’ objects, which makes them harder to learn and to remember.</p>
<p>From the <strong>readr</strong> package as part of the <strong>tidyverse</strong> dialect we can use the <code>read_table()</code> function to create a tabled data frame.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<pre><code>## ── Attaching packages ────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.0     ✓ purrr   0.3.4
## ✓ tibble  3.0.1     ✓ dplyr   0.8.5
## ✓ tidyr   1.0.2     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ───────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read_table</span>(<span class="dt">file =</span> <span class="st">&quot;http://myweb.fsu.edu/jelsner/temp/data/US.txt&quot;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Year = col_double(),
##   All = col_double(),
##   MUS = col_double(),
##   G = col_double(),
##   FL = col_double(),
##   E = col_double()
## )</code></pre>
<p>There are many functions for working with data frames using <strong>base</strong> R. These functions require understanding data frames as list objects, which makes them harder to learn and to remember. Next time will explore a more formalized grammar for data wrangling.</p>
</div>
<div id="your-turn-florida-precipitation-by-month" class="section level2">
<h2><span class="header-section-number">2.5</span> Your turn: Florida precipitation by month</h2>
<p>Source: Monthly climate series. <a href="http://www.esrl.noaa.gov/psd/data/timeseries/">Source:</a></p>
<p>Get monthly statewide average rainfall (in inches) back to the year 1895. Copy/paste into a text editor (I use the app TextWrangler) then import into R using the <code>read.table()</code> function.</p>
<p>I did this and posted the file on my website. Missing values are coded as -9.900 so I included the argument <code>na.string = &quot;-9.900&quot;</code> in the function call.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;http://myweb.fsu.edu/jelsner/temp/data/FLprecip.txt&quot;</span>, </a>
<a class="sourceLine" id="cb189-2" data-line-number="2">                 <span class="dt">na.string =</span> <span class="st">&quot;-9.900&quot;</span>, </a>
<a class="sourceLine" id="cb189-3" data-line-number="3">                 <span class="dt">header =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb189-4" data-line-number="4"><span class="kw">head</span>(df)</a></code></pre></div>
<pre><code>##   Year   Jan   Feb   Mar   Apr   May    Jun   Jul    Aug    Sep   Oct   Nov
## 1 1895 3.277 3.241 2.499 4.530 4.252  4.500 7.450  6.103  4.669 3.091 2.649
## 2 1896 3.928 3.020 2.570 0.498 2.700 11.228 8.217  5.892  4.352 2.959 3.516
## 3 1897 1.839 6.000 2.125 4.390 2.279  5.221 7.212  6.831 11.144 4.101 1.749
## 4 1898 0.704 2.009 1.259 1.320 1.509  3.292 8.947 13.090  5.231 5.877 2.190
## 5 1899 4.523 5.921 1.898 3.398 1.110  5.803 9.264  6.712  5.132 5.882 0.751
## 6 1900 3.207 4.369 6.800 4.317 3.891  9.993 7.501  4.492  4.930 5.230 1.221
##     Dec
## 1 1.586
## 2 2.071
## 3 2.680
## 4 3.891
## 5 1.939
## 6 4.290</code></pre>
<ul>
<li>What was the statewide average rainfall during the 10th month of the 65th year?</li>
<li>What was the statewide average rainfall during June of 1900?</li>
<li>What year had the wettest March?</li>
<li>What month during 1965 was the wettest?</li>
</ul>
</div>
<div id="more-practice-tornadoes" class="section level2">
<h2><span class="header-section-number">2.6</span> More practice: Tornadoes</h2>
<p>Use the tornado dataset from the Storm Prediction Center and write code to do or answer the following.</p>
<ul>
<li>List the names of the columns in the data frame.</li>
<li>What is the last year in the data?</li>
<li>How many tornadoes had at least one fatality?</li>
<li>Create a table of the number of tornadoes by EF rating.</li>
<li>Create a table of the number of tornadoes by state.</li>
<li>Add a new variable to the data frame called <code>area</code> as the product of the path length and path width in units of square meters.</li>
<li>Map the locations of all the tornadoes with an EF rating of at least 4.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-Lesson.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["assfg-book.pdf", "assfg-book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
